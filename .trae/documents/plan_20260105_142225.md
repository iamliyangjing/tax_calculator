# 工资税收计算器改进计划

## 改进内容

### 1. 社保缴纳方式优化
- **当前问题**：只能通过社保比例计算社保扣除
- **改进方案**：添加直接输入社保合计金额的选项
- **技术实现**：
  - 在TaxInput类型中添加社保输入方式标识和社保固定金额字段
  - 修改calculateMonthlyTaxableIncome函数，支持两种社保计算方式
  - 更新表单组件，添加社保输入方式切换功能

### 2. 添加其他收入项
- **当前问题**：只有月工资收入，没有其他收入项
- **改进方案**：添加其他收入字段，如交通补贴、餐补等
- **技术实现**：
  - 在TaxInput类型中添加monthlyOtherIncome字段
  - 修改calculateMonthlyTaxableIncome函数，将其他收入计入月度总收入
  - 更新表单组件，添加其他收入输入框

### 3. 年终奖计算功能
- **当前问题**：没有年终奖计算功能
- **改进方案**：添加年终奖输入字段，支持两种计税方式
- **技术实现**：
  - 在TaxInput类型中添加年终奖金额和计税方式字段
  - 实现年终奖单独计税和并入综合所得计税的逻辑
  - 更新AnnualTaxResult类型，添加年终奖相关结果字段
  - 更新表单组件，添加年终奖输入和计税方式选择
  - 更新结果展示组件，显示年终奖税收情况

## 实施步骤

### 1. 更新TypeScript类型定义
- 修改TaxInput接口，添加新字段
- 更新AnnualTaxResult接口，添加年终奖结果字段
- 添加社保输入方式和年终奖计税方式的枚举类型

### 2. 改进税收计算逻辑
- 修改calculateMonthlyTaxableIncome函数，支持直接输入社保金额
- 修改calculateAnnualTax函数，添加其他收入计算
- 实现年终奖计税函数，支持两种计税方式
- 更新主计算函数，整合年终奖计算

### 3. 更新输入表单组件
- 添加社保输入方式切换（比例/固定金额）
- 添加社保固定金额输入框
- 添加其他收入输入框
- 添加年终奖输入框和计税方式选择
- 更新表单验证规则

### 4. 更新结果展示组件
- 显示社保计算方式和金额
- 显示其他收入情况
- 显示年终奖税收计算结果
- 更新年度汇总，包含年终奖税额

### 5. 测试和优化
- 测试各种输入组合的计算结果
- 优化界面交互体验
- 确保代码类型安全

## 预期效果

用户可以：
1. 选择按比例计算社保或直接输入社保合计金额
2. 添加交通补贴等其他月度收入
3. 输入年终奖并选择计税方式
4. 查看包含所有收入和扣除项的完整税收计算结果

## 技术要点

- 保持代码的可扩展性和可维护性
- 确保计算逻辑的准确性
- 提供清晰的用户界面和交互体验
- 支持灵活的输入方式选择